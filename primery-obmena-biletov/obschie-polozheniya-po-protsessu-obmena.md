# Общая процедура обмена билетов в ТСР

Процесс обмена билетов в TCP выполняется посредством запросов uAPI JSON, которые также эффективно используются в других наших успешных проектах.

## Описание обмена билета в TCP

В этой статье представлен обзор процесса обмена билета в TCP. Более подробную информацию о различных типах обменов можно найти далее в этом руководстве.

1. Вызовите PNR, проверьте, что бронирование содержит информацию о первоначально оформленном билете, и электронный билет по-прежнему открыт для использования.

    Маршрут должен быть уже изменен \(выбраны альтернативные даты и / или выбранные рейсы, сохранены изменения\)

   .

2. Выберите расчет тарифа, согласно которому следует произвести обмен билета. TCP

    поддерживает 3 возможных сценария: обмен с использованием нового расчета тарифа при добровольном обмене \(расчет тарифа создается в TCP  \); обмен с использованием сохраненного расчета тарифа \(когда TCP использует уже сохраненный в бронировании расчет тарифа для нового маршрута\); обмен с использованием формы мануального расчета тарифа  \(используется в случаях, когда необходимо сохранить мануальный расчет тарифа,  без использования криптических форматов команд\).

3. Проверьте данные расчета тарифа, выберите Тип штрафа \(EMD-S, Q-сбор, штраф на таксу\).
4. Выберите опцию «Выписать билет», чтобы завершить процесс обмена и выпустить новый билет или «Вернуться к бронированию», чтобы сохранить изменения в тарифах и выпустить новый билет позже.
5. В случае, если выбрана опция «Выписать билет», TCP на предыдущем шаге должен отображать недавно выпущенный билет. Когда агент выбирает «Вернуться к бронированию» на новом экране TCP, на экране отображается бронирование с учетом изменений.![](../.gitbook/assets/gobacktopnr.png)

